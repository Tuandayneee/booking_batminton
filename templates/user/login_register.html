{% extends 'base/base.html' %}
{% load static %}

{% block navbar %}{% endblock %}

{% block title %}ÄÄƒng nháº­p - Badminton Pro{% endblock %}

{% block content %}
<div class="login-wrapper">
    <div class="banner-side" style="background: linear-gradient(rgba(13, 110, 253, 0.7), rgba(13, 110, 253, 0.5)), url('{% static 'images/banner.jpg' %}');">
        <div class="banner-text fade-in-up">
            <h1>Badminton Pro</h1>
            <p>Há»‡ thá»‘ng Ä‘áº·t sÃ¢n cáº§u lÃ´ng sá»‘ #1 Viá»‡t Nam.<br>ChÃ¡y háº¿t mÃ¬nh cÃ¹ng Ä‘am mÃª!</p>
        </div>
    </div>

    <div class="form-side">
        <div class="form-content fade-in-up {% if register_form.errors %}hidden{% endif %}" id="loginBox">
            <a href="{% url 'home' %}" class="brand-logo"><i class="fas fa-shuttlecock"></i> Badminton Pro</a>
            <h2 class="fw-bold mb-2">ChÃ o má»«ng trá»Ÿ láº¡i! ğŸ‘‹</h2>
            
            <form method="POST" action="{% url 'login' %}">
                {% csrf_token %}
                
                {% if login_form.non_field_errors %}
                    <div class="alert alert-danger">
                        {{ login_form.non_field_errors }}
                    </div>
                {% endif %}

                <div class="mb-3">
                    <label class="form-label fw-medium">TÃªn Ä‘Äƒng nháº­p</label>
                    {{ login_form.username }} 
                    <div class="text-danger small">{{ login_form.username.errors }}</div>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-medium">Máº­t kháº©u</label>
                    {{ login_form.password }}
                    <div class="text-danger small">{{ login_form.password.errors }}</div>
                </div>
                
                <button type="submit" name="btn_login" class="btn btn-primary w-100 mb-3">ÄÄƒng nháº­p</button>

                <div class="text-center mb-4">
                    <span class="text-muted">ChÆ°a cÃ³ tÃ i khoáº£n? </span>
                    <a href="javascript:void(0)" onclick="toggleForm()" class="fw-bold text-primary text-decoration-none">ÄÄƒng kÃ½ khÃ¡ch hÃ ng</a>
                </div>

                <div class="text-center pt-3 border-top">
                    <p class="small text-muted mb-1">Báº¡n lÃ  chá»§ sÃ¢n cáº§u lÃ´ng?</p>
                    <a href="{% url 'register_partner' %}" class="btn btn-outline-success w-100 fw-bold">
                        <i class="fa-solid fa-handshake me-2"></i>ÄÄƒng kÃ½ lÃ m Äá»‘i tÃ¡c
                    </a>
                </div>
                </form>
        </div>

        <div class="form-content fade-in-up {% if not register_form.errors %}hidden{% endif %}" id="registerBox">
            <a href="{% url 'home' %}" class="brand-logo"><i class="fas fa-shuttlecock"></i> Badminton Pro</a>
            <h2 class="fw-bold mb-2">Táº¡o tÃ i khoáº£n khÃ¡ch</h2>
            
            <form method="POST" action="{% url 'register' %}">
                {% csrf_token %}

                {% if register_form.non_field_errors %}
                    <div class="alert alert-danger">{{ register_form.non_field_errors }}</div>
                {% endif %}

                <div class="mb-3">
                    <label class="form-label fw-medium">TÃªn Ä‘Äƒng nháº­p</label>
                    {{ register_form.username }}
                    <div class="text-danger small">{{ register_form.username.errors }}</div>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-medium">Email</label>
                    {{ register_form.email }}
                    <div class="text-danger small">{{ register_form.email.errors }}</div>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-medium">Sá»‘ Ä‘iá»‡n thoáº¡i</label>
                    {{ register_form.phone_number }}
                    <div class="text-danger small">{{ register_form.phone_number.errors }}</div>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-medium">Máº­t kháº©u</label>
                    {{ register_form.password }}
                    <div class="text-danger small">{{ register_form.password.errors }}</div>
                </div>

                <div class="mb-3">
                    <label class="form-label fw-medium">Nháº­p láº¡i máº­t kháº©u</label>
                    {{ register_form.confirm_password }}
                    <div class="text-danger small">{{ register_form.confirm_password.errors }}</div>
                </div>

                <button type="submit" name="btn_register" class="btn btn-primary w-100 mb-3">ÄÄƒng kÃ½</button>
                
                <div class="text-center mb-4">
                    <span class="text-muted">ÄÃ£ cÃ³ tÃ i khoáº£n? </span>
                    <a href="javascript:void(0)" onclick="toggleForm()" class="fw-bold text-primary text-decoration-none">ÄÄƒng nháº­p</a>
                </div>

                 <div class="text-center pt-3 border-top">
                    <p class="small text-muted mb-1">Báº¡n muá»‘n há»£p tÃ¡c kinh doanh?</p>
                    <a href="{% url 'register_partner' %}" class="fw-bold text-success text-decoration-none">
                        <i class="fa-solid fa-arrow-right me-1"></i>ÄÄƒng kÃ½ dÃ nh cho Chá»§ sÃ¢n
                    </a>
                </div>
                </form>
        </div>
    </div>
</div>

<script src="{% static 'js/user/login_register.js' %}"></script>
{% endblock %}